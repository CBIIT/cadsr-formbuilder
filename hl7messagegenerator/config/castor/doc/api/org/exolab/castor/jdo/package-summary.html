<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_08) on Thu Sep 22 11:02:00 CEST 2005 -->
<TITLE>
org.exolab.castor.jdo (Castor API)
</TITLE>

<META NAME="keywords" CONTENT="org.exolab.castor.jdo package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="org.exolab.castor.jdo (Castor API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/exolab/castor/dsml/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/exolab/castor/jdo/util/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.exolab.castor.jdo
</H2>
<b>The Java Data Objects API</b>

    
      <b>Version: </b>$Revision: 1.1 $ $Date: 2006-10-03 19:42:04 $
      <b>Author: </b><a href="mailto:arkin@exoffice.com">Assaf Arkin</a>
    

    The class <A HREF="../../../../org/exolab/castor/jdo/JDOManager.html" title="class in org.exolab.castor.jdo"><CODE>JDOManager</CODE></A> provides the Castor JDO engine used for
       obtaining database connection. 
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/Database.html" title="interface in org.exolab.castor.jdo">Database</A></B></TD>
<TD>An open connection to the database. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/DataObjects.html" title="interface in org.exolab.castor.jdo">DataObjects</A></B></TD>
<TD>A factory for <A HREF="../../../../org/exolab/castor/jdo/Database.html" title="interface in org.exolab.castor.jdo"><CODE>Database</CODE></A> connections. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/OQLQuery.html" title="interface in org.exolab.castor.jdo">OQLQuery</A></B></TD>
<TD>An OQL query object. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/Persistent.html" title="interface in org.exolab.castor.jdo">Persistent</A></B></TD>
<TD>A callback informs objects about changes to their state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/Query.html" title="interface in org.exolab.castor.jdo">Query</A></B></TD>
<TD>A query object. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/QueryResults.html" title="interface in org.exolab.castor.jdo">QueryResults</A></B></TD>
<TD>An iteration of the results of a query. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/TimeStampable.html" title="interface in org.exolab.castor.jdo">TimeStampable</A></B></TD>
<TD>A callback get/set the timestamp.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/CacheManager.html" title="class in org.exolab.castor.jdo">CacheManager</A></B></TD>
<TD>CacheManager handles expiring objects from the cache.
 
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/DbMetaInfo.html" title="class in org.exolab.castor.jdo">DbMetaInfo</A></B></TD>
<TD>Database meta information encapsulation
 This is currently used to get the database version out of a
 JDBC database connection and enable comparing against some
 required version string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/JDO.html" title="class in org.exolab.castor.jdo">JDO</A></B></TD>
<TD><B>Deprecated.</B>&nbsp;<I>JDO has been replaced by JDOManager.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/JDOManager.html" title="class in org.exolab.castor.jdo">JDOManager</A></B></TD>
<TD>Implementation of the JDOManager engine used for obtaining database
 connections. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/Utils.html" title="class in org.exolab.castor.jdo">Utils</A></B></TD>
<TD>Common static methods for Castor JDO</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Exception Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/ClassNotPersistenceCapableException.html" title="class in org.exolab.castor.jdo">ClassNotPersistenceCapableException</A></B></TD>
<TD>Exception thrown to indicate objects of this class are not persistent
 capable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/DatabaseNotFoundException.html" title="class in org.exolab.castor.jdo">DatabaseNotFoundException</A></B></TD>
<TD>This exception is thrown when attempting to open a database that
 does not exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/DataObjectAccessException.html" title="class in org.exolab.castor.jdo">DataObjectAccessException</A></B></TD>
<TD>An exception encapsulating another exception which occurs during
 operation to data object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/DuplicateIdentityException.html" title="class in org.exolab.castor.jdo">DuplicateIdentityException</A></B></TD>
<TD>Exception indicating that a duplicate identity has been found and
 an object with the same identity already exists in persistent
 storage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/FatalPersistenceException.html" title="class in org.exolab.castor.jdo">FatalPersistenceException</A></B></TD>
<TD>A fatal exception indicates the persistence engine is no longer usable.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/LockNotGrantedException.html" title="class in org.exolab.castor.jdo">LockNotGrantedException</A></B></TD>
<TD>Exception thrown when failed to acquire a lock on an object, a timeout
 occured waiting to acquire the lock, or a deadlock has been detected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/ObjectDeletedException.html" title="class in org.exolab.castor.jdo">ObjectDeletedException</A></B></TD>
<TD>This exception is thrown when accessing an object that was deleted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/ObjectModifiedException.html" title="class in org.exolab.castor.jdo">ObjectModifiedException</A></B></TD>
<TD>Indicates transaction has been aborted as a result of object
 being modified by a concurrent transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/ObjectNotFoundException.html" title="class in org.exolab.castor.jdo">ObjectNotFoundException</A></B></TD>
<TD>An attempt to load an object failed, an object of that type with
 that primary key was not found in persistent storage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/ObjectNotPersistentException.html" title="class in org.exolab.castor.jdo">ObjectNotPersistentException</A></B></TD>
<TD>Exception indicating object is not persistent. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/PersistenceException.html" title="class in org.exolab.castor.jdo">PersistenceException</A></B></TD>
<TD>An exception representing another exception (an SQL exception, a JNDI
 naming exception, etc) raised by the underlying persistence engine.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/QueryException.html" title="class in org.exolab.castor.jdo">QueryException</A></B></TD>
<TD>Reports an exception with the query, either syntax, query parameters
 or inability to perform the query against the persistence engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/TransactionAbortedException.html" title="class in org.exolab.castor.jdo">TransactionAbortedException</A></B></TD>
<TD>Informs that the user transaction has been explicitly aborted by
 the database due to some failure and the reason for that failure.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/exolab/castor/jdo/TransactionNotInProgressException.html" title="class in org.exolab.castor.jdo">TransactionNotInProgressException</A></B></TD>
<TD>Indicates the operation cannot be performed since a transaction is not
 in progress.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.exolab.castor.jdo Description
</H2>

<P>
<p><b>The Java Data Objects API</b></p>

    <dl>
      <dt><b>Version: </b></dt><dd>$Revision: 1.1 $ $Date: 2006-10-03 19:42:04 $</dd>
      <dt><b>Author: </b></dt><dd><a href="mailto:arkin@exoffice.com">Assaf Arkin</a></dd>
    </dl>

    <p>The class <A HREF="../../../../org/exolab/castor/jdo/JDOManager.html" title="class in org.exolab.castor.jdo"><CODE>JDOManager</CODE></A> provides the Castor JDO engine used for
       obtaining database connection. A JDO object is constructed with the name of a database
       and other properties, and <tt>getDatabase}</tt> is used to obtain a new database connection.</p>

    <p>The class <A HREF="../../../../org/exolab/castor/jdo/Database.html" title="interface in org.exolab.castor.jdo"><CODE>Database</CODE></A> represents an open connection to the
       database that can be used to perform transactional operations on the database.</p>

    <p>Database operations can only be performed in the context of a transaction. Client
       applications should begin and commit a transaction using the <tt>begin</tt> and <tt>commit</tt>
       methods. Server applications should use implicit transaction demaraction by the container
       or explicit transaction demarcation using <tt>javax.transaction.UserTransaction</tt>.</p>

    <p>All objects queried and created during a transaction are persistent. Changes to persistent
       objects will be stored in the database when the transaction commits. Changes will not be
       stored if the transaction is rolled back or fails to commit.</p>

    <p>The class <A HREF="../../../../org/exolab/castor/jdo/OQLQuery.html" title="interface in org.exolab.castor.jdo"><CODE>OQLQuery</CODE></A> is obtained from the database and used to
       construct and execute a query on that database. All query operations are bound to the database
       transaction.</p>

    <p>The following example opens a connection to the database 'mydb' configured from the
       configuration file '<tt>database.xml</tt>', retrieves all the products in the specified
       groups and marks them down with a 25% discount and on-sale status.</p>

       <pre>
  JDOManager   jdo;
  Database     db;
  Query        oql;
  QueryResults results;

  <font color="red">// Define a new database source</font>
  JDOManager.loadConfiguration ("jdo-conf.xml");
  JDOManager jdo = JDOManager.createInstance ( "mydb" );

  <font color="red">// Open a new database, begin a transaction</font>
  db = jdo.getDatabase();
  db.begin();

  <font color="red">// Select all the products in a given group</font>
  oql = db.getQuery( "SELECT p FROM Product p WHERE group=$" );
  oql.bind( groupId );
  results = oql.execute();
  while ( results.hasMore() ) {
    <font color="red">// A 25% mark down for each product and mark as sale</font>
    prod = (Product) results.next();
    prod.markDown( 0.25 );
    prod.setOnSale( true );
  }
  <font color="red">// Commit all changes, close the database</font>
  db.commit();
  db.close();
       </pre></p>

	<p>A <A HREF="../../../../org/exolab/castor/jdo/CacheManager.html" title="class in org.exolab.castor.jdo"><CODE>CacheManager</CODE></A> instance can be optained by issueing the 
	   following code:</p>
	  
Database db = jdo.getDatabase();
CacheManager manager = ((DatabaseImpl) db.getCacheManager();
	   </code>
	
	<p>This instance can subsequently be used to selectively clear the Castor performance 
	   cache one of the <CODE>org.exolab.castor.jdo.CacheManager#clearCache()</CODE> methods.</p>
<P>

<P>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/exolab/castor/dsml/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/exolab/castor/jdo/util/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Intalio Inc. (C) 1999-2004. All rights reserved  http://www.intalio.com
</BODY>
</HTML>
