<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html><head><title>Castor JDO code samples</title><link rel="stylesheet" href="default.css"></head><body bgcolor="#ffffff" link="#6763a9" vlink="#6763a9" topmargin="0" bottommargin="0" leftmargin="0" marginheight="0" marginwidth="0"><a name="top"></a><table border="0" cellpadding="0" cellspacing="0" height="400"><tr><td width="10" valign="top" align="left" bgcolor="#7270c2"><img src="images/dotTrans.gif" width="1" height="1" border="0"></td><td width="125" valign="top" align="left" bgcolor="#7270c2"><img src="images/dotTrans.gif" width="1" height="1" border="0"></td><td width="7" valign="top" align="left"><img src="images/dotTrans.gif" border="0" width="1" height="1"></td><td width="70" valign="top" align="left"><img src="images/dotTrans.gif" width="70" height="6" border="0"></td><td width="468" valign="top" align="left"><img src="images/top_2.gif" width="468" height="6" border="0"></td><td width="120" valign="top" align="left"><img src="images/line_purple.gif" width="120" height="6" border="0"></td></tr><tr><td width="10" bgcolor="#7270c2" valign="top" align="left"><img src="images/dotTrans.gif" border="0" width="1" height="1"></td><td width="125" bgcolor="#7270c2" valign="top" align="left"><img src="images/dotTrans.gif" border="0" width="1" height="1"></td><td width="7" bgcolor="#ffffff" valign="top" align="left"></td><td width="70" valign="top" align="left"><img src="images/dotTrans.gif" width="1" height="1" border="0"></td><td width="468" valign="middle" align="left"><a href="http://www.codehaus.org"><span class="menuTopOff">Codehaus</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.exolab.org"><span class="menuTopOff">ExoLab</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://openejb.codehaus.org"><span class="menuTopOff">OpenEJB</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://openjms.sf.net"><span class="menuTopOff">OpenJMS</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://openorb.sf.net"><span class="menuTopOn">OpenORB</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://castor.codehaus.org"><span class="menuTopOff">Castor</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://tyrex.sf.net"><span class="menuTopOff">Tyrex</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="images/dotTrans.gif" width="1" height="2" border="0"></td><td width="120" height="20" valign="top" align="left">&nbsp;</td></tr><tr><td width="10" bgcolor="#7270c2" valign="top" align="left"><img src="images/dotTrans.gif" width="10" height="3" border="0"></td><td width="125" bgcolor="#7270c2" valign="top" align="right"><img src="images/line_sm.gif" width="105" height="3" border="0"></td><td width="7" bgcolor="#a9a5de" valign="top" align="left"><img src="images/line_sm.gif" width="7" height="3" border="0"></td><td width="70" valign="top" align="left"><img src="images/line_light.gif" width="70" height="3" border="0"></td><td width="468" valign="top" align="left"><img src="images/line_light.gif" width="468" height="3" border="0"></td><td width="120" valign="top" align="left"><img src="images/dotTrans.gif" border="0" width="1" height="1"></td></tr><tr><td bgcolor="#7270c2" valign="top" align="left"><img src="images/dotTrans.gif" width="10" height="10" border="0"></td><td width="125" bgcolor="#7270c2" valign="top" align="left"><img src="images/dotTrans.gif" width="1" height="2" border="0"><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">Main</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="index.html"><span class="subMenuOff">Home</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="about.html"><span class="subMenuOff">About</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="features.html"><span class="subMenuOff">Features</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="download.html"><span class="subMenuOff">Download</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="api/overview-summary.html"><span class="subMenuOff">API</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="schema.html"><span class="subMenuOff">Schema</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="http://castor.exolab.org/phpBB2"><span class="subMenuOff">Castor Forums</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="lists.html"><span class="subMenuOff">Mailing Lists</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="cvs.html"><span class="subMenuOff">CVS / JIRA</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="support.html"><span class="subMenuOff">Support</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="http://www.brainopolis.com/castorwiki/Wiki.jsp?page=Main"><span class="subMenuOff">CastorWiki</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="http://castor.codehaus.org/rss/castor-announce.xml"><span class="subMenuOff">RSS news feed</span></a></td></tr></table><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">XML</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="xml-framework.html"><span class="subMenuOff">Using XML</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="sourcegen.html"><span class="subMenuOff">Source Generator</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="xmlschema.html"><span class="subMenuOff">Schema Support</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="xml-mapping.html"><span class="subMenuOff">XML Mapping</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="xml-faq.html"><span class="subMenuOff">XML FAQ</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="xml-fieldhandlers.html"><span class="subMenuOff">Custom Handlers</span></a></td></tr></table><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">JDO</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-introduction.html"><span class="subMenuOff">Introduction</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo.html"><span class="subMenuOff">Using JDO</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="database-conf.html"><span class="subMenuOff">JDO Config</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="types.html"><span class="subMenuOff">Types</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-mapping.html"><span class="subMenuOff">JDO Mapping</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-faq.html"><span class="subMenuOff">JDO FAQ</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-examples.html"><span class="subMenuOff">JDO Examples</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-howto.html"><span class="subMenuOff">JDO How-Tos</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-best-practice.html"><span class="subMenuOff">JDO Best Pract.</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-other-features.html"><span class="subMenuOff">Other Features</span></a></td></tr></table><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">Advanced JDO</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="oql.html"><span class="subMenuOff">OQL</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="locking.html"><span class="subMenuOff">Trans. &amp; Locks</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="design-persist.html"><span class="subMenuOff">Design</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="key-generator.html"><span class="subMenuOff">KeyGen</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="long-transact.html"><span class="subMenuOff">Long Trans.</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="nested-attr.html"><span class="subMenuOff">Nested Attrs.</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="pooling.html"><span class="subMenuOff">Pooling Examples</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="postgresql-blobs.html"><span class="subMenuOff">LOBs</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="jdo-best-practice.html"><span class="subMenuOff">Best practice</span></a></td></tr></table><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">More</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="presentations.html"><span class="subMenuOff">Presentations</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="examples.html"><span class="subMenuOff">The Examples</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="extras.html"><span class="subMenuOff">3rd Party Tools</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="test-framework.html"><span class="subMenuOff">JDO Tests</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="ctf.html"><span class="subMenuOff">XML Tests</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="conf-lib.html"><span class="subMenuOff">Configuration</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="tips-tricks.html"><span class="subMenuOff">Tips &amp; Tricks</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="javadoc/overview-summary.html"><span class="subMenuOff">Full JavaDoc</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="http://www.brainopolis.com/castorwiki/Wiki.jsp?page=Main"><span class="subMenuOff">CastorWiki</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href><span class="subMenuOff"></span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="http://www.java.net/"><span class="subMenuOff"><img src="images/javanet_button_90.gif" border="0"></span></a></td></tr></table><br><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="top" align="left"><span class="subMenuOn">About</span></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="license.html"><span class="subMenuOff">License</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="contributors.html"><span class="subMenuOff">Contributors</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="marketplace.html"><span class="subMenuOff">Marketplace</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="status.html"><span class="subMenuOff">Status, Todo</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="release-notes.html"><span class="subMenuOff">Changelog</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="library.html"><span class="subMenuOff">Library</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="contacts.html"><span class="subMenuOff">Contact</span></a></td></tr><tr><td valign="top" align="left">&nbsp;&nbsp;<a href="origins.html"><span class="subMenuOff">Project Name</span></a></td></tr></table><br></td><td width="7" bgcolor="#a9a5de" valign="top" align="left">&nbsp;</td><td width="70" valign="top" align="left">&nbsp;</td><td rowspan="4" width="468" valign="top"><table cols="2" rows="2" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td valign="top" align="left"><br><img border="0" height="34" hspace="0" src="images/castor.gif" vspace="0" width="115"><br><img border="0" height="10" hspace="0" src="images/dotTrans.gif"></td><td width="120" height="5" valign="top" align="right"><a href="http://www.exolab.org"><img src="images/logo_exolab.gif" hspace="0" vspace="10" width="77" height="20" border="0"></a></td></tr></table><p></p><p></p><br><h2 align="center">Castor JDO code samples</h2><p align="center">              Documentation Author(s):<br>Werner Guttmann<br></p><HR size="1"><span class="bodyGrey"><b><a href="#Introduction">Introduction</a></b><br></span><span class="bodyGrey"><a href="#Java-class-files">&nbsp;&nbsp;&nbsp;&nbsp;Java class files</a><br></span><span class="bodyGrey"><a href="#DDL">&nbsp;&nbsp;&nbsp;&nbsp;DDL</a><br></span><span class="bodyGrey"><a href="#Object-Mappings">&nbsp;&nbsp;&nbsp;&nbsp;Object Mappings</a><br></span><span class="bodyGrey">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Read-only-fields">Read-only fields</a><br></span><span class="bodyGrey">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Transient-fields">Transient fields</a><br></span><span class="bodyGrey"><a href="#Relations">&nbsp;&nbsp;&nbsp;&nbsp;Relations</a><br></span><span class="bodyGrey">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#1:1-relation">1:1 relation</a><br></span><span class="bodyGrey">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#1:M-relation">1:M relation</a><br></span><span class="bodyGrey">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#M:N-relation">M:N relation</a><br></span><HR size="1"><br><a name="Introduction"><h2>Introduction</h2></a>                 <p><span class="bodyGrey">Here are examples of object mappings and the corresponding Java objects and           DDL for the database table.</span></p>         <a name="Java-class-files"><h3>Java class files</h3></a>                   <p><span class="bodyGrey">The following fragment shows the Java class declaration for the Product class:</span></p>                   <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
package myapp;

public class Product 
{
    private int       _id;

    private String    _name; 

    private float     _price; 

    private ProductGroup _group;


    public int getId() { ... }

    public void setId( int anId ) { ... }

    public String getName() { ... }

    public void setName( String aName ) { ... }

    public float getPrice() { ... }

    public void setPrice( float aPrice ) { ... }

    public ProductGroup getProductGroup() { ... }

    public void setProductGroup( ProductGroup aProductGroup ) { ... }
}</pre></span></td></tr></table></td></tr></table><p></p>        <p><span class="bodyGrey">The following fragment shows the Java class declaration for the ProductGroup class:</span></p>              <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
public class ProductGroup
{

    private int       _id;

    private String    _name;

    public int getId() { ... }

    public void setId( int id ) { ... }

    public String getName() { ... }

    public void setName( String name ) { ... }

}</pre></span></td></tr></table></td></tr></table><p></p>                         <a name="DDL"><h3>DDL</h3></a>                   <p><span class="bodyGrey">The following sections show the DDL for the relational database tables               PROD, PROD_GROUP and PROD_DETAIL:</span></p>                    <p><span class="bodyGrey"><b>PROD</b>:</span></p>                      <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
create table prod 
(
  id        int           not null,
  name      varchar(200)  not null,
  price     numeric(18,2) not null,
  group_id  int           not null
);</pre></span></td></tr></table></td></tr></table><p></p>            <p><span class="bodyGrey"><b>PROD_GROUP</b>:</span></p>                      <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
create table prod_group (
  id        int           not null,
  name      varchar(200)  not null
);</pre></span></td></tr></table></td></tr></table><p></p>                      <p><span class="bodyGrey"><b>PROD_DETAIL</b>:</span></p>                      <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
create table prod_detail (
  id        int           not null,
  prod_id   int           not null,
  name      varchar(200)  not null
);</pre></span></td></tr></table></td></tr></table><p></p>                                   <a name="Object-Mappings"><h3>Object Mappings</h3></a>          <p><span class="bodyGrey">The following code fragment shows the object mapping for the ProductGroup class:</span></p>                     <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE mapping PUBLIC &quot;-//EXOLAB/Castor Object Mapping DTD Version 1.0//EN&quot;
                         &quot;http://castor.exolab.org/mapping.dtd&quot;&gt;
&lt;mapping&gt;

  &lt;class name=&quot;myapp.ProductGroup&quot; identity=&quot;id&quot;&gt;
  
    &lt;description&gt;Product group&lt;/description&gt;
    
    &lt;map-to table=&quot;prod_group&quot; xml=&quot;group&quot; /&gt;
    
    &lt;field name=&quot;id&quot; type=&quot;integer&quot; &gt;
      &lt;sql name=&quot;id&quot; type=&quot;integer&quot;/&gt;
    &lt;/field&gt;
    
    &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
      &lt;sql name=&quot;name&quot; type=&quot;char&quot; /&gt;
    &lt;/field&gt;
    
  &lt;/class&gt;

&lt;/mapping&gt;</pre></span></td></tr></table></td></tr></table><p></p>         <p><span class="bodyGrey">As a result of that declaration, Castor JDO would create the following SQL statements           for creating, deleting, loading and updating instances of ProductGroup:</span></p>                   <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
create: INSERT INTO prod_group (id, name) VALUES (?,?)
delete: DELETE FROM prod_group WHERE id=?
load:   SELECT prod_group.id, prod_group.name FROM prod_group WHERE prod_group.id=?;
update: UPDATE prod_group SET name=? WHERE id=?
       </pre></span></td></tr></table></td></tr></table><p></p>                   <a name="Read-only-fields"><h4>Read-only fields</h4></a>            <p><span class="bodyGrey">To declare the <i>name</i> field <b>read-only</b>, above field definition for the               field <i>name</i> needs to be changed to:</span></p>            <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
  &lt;class name=&quot;myapp.ProductGroup&quot; identity=&quot;id&quot;&gt;
  
    ...    
    &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
      &lt;sql name=&quot;name&quot; type=&quot;char&quot; <font color="red">read-only=&quot;true&quot;</font> /&gt;
    &lt;/field&gt;
    
  &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                     <p><span class="bodyGrey">As a result of that declaration, Castor JDO creates the following SQL statements             for creating, deleting, loading and updating instances of ProductGroup:</span></p>                      <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
create: INSERT INTO prod_group (id) VALUES (?)
delete: DELETE FROM prod_group WHERE id=?
load:   SELECT prod_group.id, prod_group.name FROM prod_group WHERE prod_group.id=?;
update: <i>no statement will be generated</i></pre></span></td></tr></table></td></tr></table><p></p>                            <a name="Transient-fields"><h4>Transient fields</h4></a>            <p><span class="bodyGrey">To declare the <i>name</i> field <b>transient</b> with regards to persistence, above field               definition for the field <i>name</i> needs to be changed to:</span></p>            <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
  &lt;class name=&quot;myapp.ProductGroup&quot; identity=&quot;id&quot;&gt;
  
    ...    
    &lt;field name=&quot;name&quot; type=&quot;string&quot; &gt;
      &lt;sql name=&quot;name&quot; type=&quot;char&quot; <font color="red">transient=&quot;true&quot;</font> /&gt;
    &lt;/field&gt;
    
  &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                                   <a name="Relations"><h3>Relations</h3></a>                 <a name="1:1-relation"><h4>1:1 relation</h4></a>            <p><span class="bodyGrey">The following code fragment shows the mapping file for the Product class.               Apart from the simple field declarations, this includes a simple 1:1 relation between               Product and ProductGroup, where every product instance is associated with a               ProductGroup:</span></p>            <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
    &lt;class name=&quot;myapp.Product&quot; identity=&quot;id&quot;&gt;

        &lt;map-to table=&quot;prod&quot; /&gt;

        &lt;field name=&quot;id&quot; type=&quot;integer&quot;&gt;
            &lt;sql name=&quot;id&quot; type=&quot;integer&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
            &lt;sql name=&quot;name&quot; type=&quot;char&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;price&quot; type=&quot;float&quot;&gt;
            &lt;sql name=&quot;price&quot; type=&quot;numeric&quot; /&gt;
        &lt;/field&gt;

        <font color="red">&lt;field name=&quot;group&quot; type=&quot;myapp.ProductGroup&quot; &gt;
            &lt;sql name=&quot;group_id&quot; /&gt;
        &lt;/field&gt;</font>
        
        &lt;field name=&quot;details&quot; type=&quot;myapp.ProductDetail&quot;
               collection=&quot;vector&quot;&gt;
           &lt;sql many-key=&quot;prod_id&quot;/&gt;
        &lt;/field&gt;
        
        &lt;field name=&quot;categories&quot; type=&quot;myapp.Category&quot; collection=&quot;vector&quot;&gt;
           &lt;sql name=&quot;category_id&quot;
                many-table=&quot;category_prod&quot; many-key=&quot;prod_id&quot; /&gt;
        &lt;/field&gt;

    &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                           <a name="1:M-relation"><h4>1:M relation</h4></a>              <p><span class="bodyGrey">The following code fragment shows (again) the mapping file for the Product class.                  The field definition highlighted shows how to declare a 1:M relation between                  Product and ProductDetail, where every product instance is made up of many                  ProductDetails:</span></p>                               <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
    &lt;class name=&quot;myapp.Product&quot; identity=&quot;id&quot;&gt;

        &lt;map-to table=&quot;prod&quot; /&gt;

        &lt;field name=&quot;id&quot; type=&quot;integer&quot;&gt;
            &lt;sql name=&quot;id&quot; type=&quot;integer&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
            &lt;sql name=&quot;name&quot; type=&quot;char&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;price&quot; type=&quot;float&quot;&gt;
            &lt;sql name=&quot;price&quot; type=&quot;numeric&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;group&quot; type=&quot;myapp.ProductGroup&quot; &gt;
            &lt;sql name=&quot;group_id&quot; /&gt;
        &lt;/field&gt;
        
        <font color="red">&lt;field name=&quot;details&quot; type=&quot;myapp.ProductDetail&quot; <font color="red">collection=&quot;vector&quot;</font>&gt;
           &lt;sql many-key=&quot;prod_id&quot;/&gt;
        &lt;/field&gt;</font>

        &lt;field name=&quot;categories&quot; type=&quot;myapp.Category&quot; collection=&quot;vector&quot;&gt;
           &lt;sql name=&quot;category_id&quot;
                many-table=&quot;category_prod&quot; many-key=&quot;prod_id&quot; /&gt;
        &lt;/field&gt;
    &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                            <p><span class="bodyGrey">The following code fragment shows the corresponding mapping entry for the                  ProductDetail class that defines the second leg of the 1:M relation                 between Product and ProductDetail.</span></p>                               <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
  &lt;class name=&quot;myapp.ProductDetail&quot; identity=&quot;id&quot; depends=&quot;myapp.Product&quot; &gt;

    &lt;description&gt;Product detail&lt;/description&gt;

    &lt;map-to table=&quot;prod_detail&quot; xml=&quot;detail&quot; /&gt;

    &lt;field name=&quot;id&quot; type=&quot;integer&quot;&gt;
      &lt;sql name=&quot;id&quot; type=&quot;integer&quot;/&gt;
    &lt;/field&gt;

    &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
      &lt;sql name=&quot;name&quot; type=&quot;char&quot;/&gt;
    &lt;/field&gt;

    <font color="red">&lt;field name=&quot;product&quot; type=&quot;myapp.Product&quot;&gt;
      &lt;sql name=&quot;prod_id&quot; /&gt;
    &lt;/field&gt;</font>

  %lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                                <a name="M:N-relation"><h4>M:N relation</h4></a>              <p><span class="bodyGrey">The following code fragment shows (again) the mapping file for the Product class.                  The field definition highlighted shows how to declare a M:N relation between                  Product and ProductCategory, where many products can be mapped to many                  product categories:</span></p>                               <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
    &lt;class name=&quot;myapp.Product&quot; identity=&quot;id&quot;&gt;

        &lt;map-to table=&quot;prod&quot; /&gt;

        &lt;field name=&quot;id&quot; type=&quot;integer&quot;&gt;
            &lt;sql name=&quot;id&quot; type=&quot;integer&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
            &lt;sql name=&quot;name&quot; type=&quot;char&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;price&quot; type=&quot;float&quot;&gt;
            &lt;sql name=&quot;price&quot; type=&quot;numeric&quot; /&gt;
        &lt;/field&gt;

        &lt;field name=&quot;group&quot; type=&quot;myapp.ProductGroup&quot; &gt;
            &lt;sql name=&quot;group_id&quot; /&gt;
        &lt;/field&gt;
        
        &lt;field name=&quot;details&quot; type=&quot;myapp.ProductDetail&quot; collection=&quot;vector&quot;&gt;
           &lt;sql many-key=&quot;prod_id&quot;&gt;/&gt;
        &lt;/field&gt;

        <font color="red">&lt;field name=&quot;categories&quot; type=&quot;myapp.Category&quot; collection=&quot;vector&quot;&gt;
           &lt;sql name=&quot;category_id&quot;
                many-table=&quot;category_prod&quot; many-key=&quot;prod_id&quot; /&gt;
        &lt;/field&gt;</font>
        
    &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                            <p><span class="bodyGrey">The following code fragment shows the corresponding mapping entry for the                  ProductCategory class that defines the second leg of the M:N relation                 between Product and Category.</span></p>               <p></p><table width="100%" border="0" cellspacing="1" cellpadding="1" bgcolor="#7270c2"><tr><td><table width="100%" border="0" cellspacing="1" cellpadding="4" bgcolor="#dddddd"><tr><td><span class="bodyBlack"><pre>
  &lt;class name=&quot;myapp.Category&quot; identity=&quot;id&quot;&gt;
  
    &lt;description&gt;
        A product category, any number of products can belong to
        the same category, a product can belong to any number of
        categories
    &lt;/description&gt;
    
    &lt;map-to table=&quot;category&quot; xml=&quot;category&quot; /&gt;
    
    &lt;field name=&quot;id&quot; type=&quot;integer&quot;&gt;
      &lt;sql name=&quot;id&quot; type=&quot;integer&quot;/&gt;
    &lt;/field&gt;
    
    &lt;field name=&quot;name&quot; type=&quot;string&quot;&gt;
      &lt;sql name=&quot;name&quot; type=&quot;char&quot;/&gt;
    &lt;/field&gt;
    
    <font color="red">&lt;field name=&quot;products&quot; type=&quot;myapp.Product&quot; collection=&quot;vector&quot;&gt;
      &lt;sql name=&quot;prod_id&quot;
           many-table=&quot;category_prod&quot; many-key=&quot;category_id&quot; /&gt;
    &lt;/field&gt;</font>
    
  &lt;/class&gt;</pre></span></td></tr></table></td></tr></table><p></p>                          </td></tr><tr height="5"><td width="10" height="5" bgcolor="#7270c2" valign="top" align="left">&nbsp;</td><td width="125" height="5" bgcolor="#7270c2" valign="top"><img src="images/dotTrans.gif" width="1" height="15" border="0"><br><img src="images/line_sm.gif" width="105" height="3" border="0" align="right"></td><td width="7" height="5" bgcolor="#a9a5de" valign="top" align="left">&nbsp;</td><td width="70" height="5" valign="top" align="left">&nbsp;</td><td width="120" height="5" valign="top" align="left">&nbsp;</td></tr><tr><td width="10" height="5" bgcolor="#7270c2" valign="top" align="left">&nbsp;</td><td width="125" bgcolor="#7270c2" valign="top" align="left"></td><td width="7" bgcolor="#a9a5de" valign="top" align="left"><img src="images/dotTrans.gif" width="1" height="25" border="0"></td><td width="70" valign="top" align="left"><img src="images/dotTrans.gif" width="1" height="25" border="0"></td><td width="120" valign="top" align="left">&nbsp;</td></tr><tr height="5"><td width="10" rowspan="2" height="100%" bgcolor="#7270c2" valign="bottom" align="left"><img src="images/stripes1.gif" width="10" height="125" border="0"></td><td width="125" rowspan="2" height="100%" bgcolor="#7270c2" valign="bottom" align="left"><img src="images/stripe105.gif" width="105" height="125" border="0"></td><td width="7" rowspan="2" height="100%" bgcolor="#a9a5de" valign="top" align="left">&nbsp;</td><td width="70" height="100%" valign="top" align="left">&nbsp;</td><td width="120" height="100%" valign="top" align="left">&nbsp;</td></tr><tr height="5"><td width="70" height="25" valign="top" align="left">&nbsp;</td><td width="400" height="25" valign="bottom" align="left"><br><br><img src="images/line_light.gif" border="0" width="400" height="3"><br><p></p><span class="bodyGrey"><small><notice>     Copyright &copy; 1999-2005 <a href="http://www.exolab.org">ExoLab Group</a>, Intalio Inc.,     and Contributors.  All rights reserved.   </notice><br>&nbsp;<br></small><small><notice>     Java, EJB, JDBC, JNDI, JTA, Sun, Sun Microsystems are trademarks or registered     trademarks of Sun Microsystems, Inc. in the United States and in other     countries. XML, XML Schema, XSLT and related standards are trademarks or registered     trademarks of MIT, INRIA, Keio or others, and a product of the World Wide Web     Consortium. All other product names mentioned herein are trademarks of their respective     owners.   </notice><br>&nbsp;<br></small></span><p></p>&nbsp;</td><td width="120" height="25" valign="top" align="left">&nbsp;</td></tr></table></body></html>